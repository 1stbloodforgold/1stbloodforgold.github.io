(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b956be4"],{1207:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-button",{staticStyle:{border:"none","border-radius":"10px","font-size":"16px"},attrs:{type:t.isMobile?"text":"info",loading:!t.isMobile&&t.initLoading,round:"",size:"mini"},on:{click:t.onSelect}},[t.initLoading?o("span",[t._v(t._s(t.$t("header.selectToken")))]):o("div",{staticStyle:{display:"flex","align-items":"center","font-size":"18px"}},[t.isMobile?t._e():[""!==t.selectTokenIcon?o("img",{staticClass:"token-icon",attrs:{referrerPolicy:"no-referrer",src:t.selectTokenIcon}}):o("svg",{staticClass:"sc-1fvnadz-1 cnWwkh",staticStyle:{"margin-right":"5px"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[o("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),o("line",{attrs:{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"}})])],o("span",{staticStyle:{"font-size":"15px"}},[t._v(t._s(t.selectTokenSymbol))]),o("i",{staticClass:"el-icon-arrow-down",staticStyle:{"margin-left":"1px"}})],2)]),o("el-dialog",{attrs:{title:t.$t("header.selectToken"),visible:t.tokenListDialogVisible,"custom-class":"wallet-dialog","append-to-body":!0,width:"90%"},on:{"update:visible":function(e){t.tokenListDialogVisible=e},open:t.onTokenListDialogOpen}},[o("div",[o("el-input",{attrs:{placeholder:t.$t("message.selectTokenPlaceholder"),clearable:""},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}),o("div",{staticStyle:{"max-height":"550px","overflow-y":"auto","margin-top":"10px"}},[o("div",[t._l(t.poolList,(function(e){return o("div",{key:e.token.address,staticStyle:{margin:"10px 15px"}},[o("el-button",{staticClass:"token-btn",attrs:{loading:""===e.token.symbol,type:"default",disabled:t.value===e.token.address},on:{click:function(o){return t.onTokenCardClick(e)}}},[""===e.token.symbol?o("span",[t._v(t._s(t.formatAddress(e.token.address)))]):t.isMobile?o("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"flex-start","justify-content":"space-between","font-size":"18px"}},[o("div",{staticStyle:{display:"flex","align-items":"center"}},[""!==e.token.icon?o("img",{staticClass:"token-icon",attrs:{src:e.token.icon}}):o("svg",{staticClass:"sc-1fvnadz-1 cnWwkh",staticStyle:{"margin-right":"5px"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[o("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),o("line",{attrs:{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"}})]),o("span",[t._v(t._s(e.token.symbol))])]),o("span",{staticStyle:{"margin-top":"5px",color:"#6d6c6c","font-size":"15px"}},[t._v(t._s(e.token.name))])]):[o("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between","font-size":"18px"}},[o("div",{staticStyle:{display:"flex","align-items":"center"}},[""!==e.token.icon?o("img",{staticClass:"token-icon",attrs:{src:e.token.icon}}):o("svg",{staticClass:"sc-1fvnadz-1 cnWwkh",staticStyle:{"margin-right":"5px"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[o("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),o("line",{attrs:{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"}})]),t._v(" "+t._s(e.token.symbol)+" ("+t._s(e.token.name)+") ")])]),""!==e.token.symbol?o("div",{staticStyle:{"font-size":"16px","margin-top":"5px"}},[o("a",{staticClass:"link-a",attrs:{target:"_blank"},on:{click:function(o){return t.goTokenView(o,e)}}},[t._v(t._s(e.token.address))])]):t._e()]],2)],1)})),t.addTokenVisible?o("div",{staticStyle:{"margin-top":"5px",padding:"0 20px"}},[o("el-input",{attrs:{placeholder:"0x"},model:{value:t.addTokenForm.tokenAddress,callback:function(e){t.$set(t.addTokenForm,"tokenAddress",e)},expression:"addTokenForm.tokenAddress"}}),o("div",{staticStyle:{padding:"10px 0",display:"flex","justify-content":"space-between"}},[o("tx-commit-button",{staticStyle:{width:"100%"},attrs:{"tx-loading":t.txLoading,"tx-form-check":t.txFormCheck}}),o("el-button",{staticStyle:{width:"100px","margin-left":"10px"},attrs:{round:"",size:t.isMobile?"mini":"large"},on:{click:t.goCancel}},[t._v(t._s(t.$t("common.cancel")))])],1)],1):t.txLoading?t._e():o("el-button",{staticClass:"token-btn",staticStyle:{"text-align":"center","margin-top":"5px"},attrs:{type:"default",icon:"el-icon-plus"},on:{click:t.goAddToken}},[t._v(" "+t._s(t.$t("addToken.form.add"))+" ")])],2)])],1)]),o("el-dialog",{attrs:{visible:t.txConfirmDialogVisible,"custom-class":"wallet-dialog","append-to-body":!0,title:t.$t("common.txConfirmDialogTitle"),width:"580px"},on:{"update:visible":function(e){t.txConfirmDialogVisible=e}}},[o("tx-confirm",{ref:"txConfirm",attrs:{"tx-form":t.txForm,"call-func":t.txConfirmCall},model:{value:t.hash,callback:function(e){t.hash=e},expression:"hash"}},[o("div",{staticStyle:{width:"100%"},attrs:{slot:"content"},slot:"content"},[o("div",{staticClass:"sec_form_panel"},[o("div",{staticClass:"sec_form_item"},[o("div",{staticClass:"sec_form_item_title"},[o("span",[t._v(t._s(t.$t("addToken.form.operate")))])]),o("div",{staticClass:"sec_form_item_content"},[t._v(" "+t._s(t.$t("addToken.form.operateInfo"))+" ")])]),o("div",{staticClass:"sec_form_item"},[o("div",{staticClass:"sec_form_item_title"},[o("span",[t._v(t._s(t.$t("addToken.form.token")))])]),o("div",{staticClass:"sec_form_item_content"},[t._v(" "+t._s(t.addTokenForm.tokenAddress)+" ")])])])])])],1),o("el-dialog",{attrs:{visible:t.installWalletDialogVisible,"custom-class":"wallet-dialog","append-to-body":"",width:"90%"},on:{"update:visible":function(e){t.installWalletDialogVisible=e}}},[o("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center","flex-direction":"column"}},[o("div",{staticClass:"wallet-tip",domProps:{innerHTML:t._s(t.$t("common.installWalletTip"))}}),o("el-button",{attrs:{size:t.isMobile?"mini":"large",type:"primary"},on:{click:t.goInstallWallet}},[t._v(t._s(t.$t("common.installWallet")))])],1)])],1)},n=[],s=o("1da1"),a=(o("96cf"),o("d3b7"),o("159b"),o("b0c0"),o("f5e2")),l=o("c448"),r=o("cf45"),c=o("dee4"),d=o("cab9"),k=o("34f5"),m=o("b4d8"),p={mixins:[c["a"],d["a"]],name:"TokenSelect",model:{prop:"selected",event:"change"},props:{selected:String},components:{TxCommitButton:a["default"],TxConfirm:l["a"]},data:function(){return{installWalletDialogVisible:!1,tokenListDialogVisible:!1,searchText:"",value:"",selectedPool:null,addTokenVisible:!1,addTokenForm:{tokenAddress:""},txConfirmDialogVisible:!1}},computed:{poolList:function(){var t=this.tokenFilter(this.searchText),e=this.getCreatePoolTx;return e.forEach((function(e){t.push({token:{address:e.token,symbol:""}})})),t},getCreatePoolTx:function(){var t=this.$store.state.transactions,e=[];return t.forEach((function(t){t.type===r["a"].getTxTypes().createPool&&"pending"===r["a"].getTxStatus(t)&&e.push(t)})),e},selectTokenSymbol:function(){if(null!=this.poolItem){var t=this.poolItem.token.symbol;return this.isMobile&&t.length>10&&(t=t.substring(0,10)+"..."),t}return this.$t("header.selectToken")},selectTokenIcon:function(){return null!=this.poolItem?this.poolItem.token.icon:""}},watch:{},created:function(){var t=this;this.eventHandlers[m["a"].txSent]=function(e){t.hash===e&&(t.txPending=!0,t.addTokenForm.tokenAddress="",t.addTokenVisible=!1)}},methods:{onSelect:function(){"undefined"!==typeof window.ethereum?this.tokenListDialogVisible=!0:this.installWalletDialogVisible=!0},onTokenListDialogOpen:function(){this.searchText="",this.value=this.tokenAddress,this.selectedPool=this.poolItem,this.tokenFilter(""),this.addTokenVisible=!1,this.addTokenForm.tokenAddress=""},tokenFilter:function(t){if(""===t)return this.$store.state.poolList;var e=[];return this.$store.state.poolList.forEach((function(o){-1!==o.token.address.toLowerCase().indexOf(t.toLowerCase())&&e.push(o)})),this.$store.state.poolList.forEach((function(o){o.token.name.toLowerCase().indexOf(t.toLowerCase())>-1&&e.push(o)})),e},onTokenCardClick:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.selectedPool=t,e.value=t.token.address,e.$emit("change",t.token.address),e.tokenListDialogVisible=!1,o.next=6,r["a"].onTokenSelected(t);case 6:""!==e.account&&e.$eventBus.$emit(m["a"].tokenChanged,t);case 7:case"end":return o.stop()}}),o)})))()},goTokenView:function(t,e){var o=this.getExplorerUrl("token",e.token.address);window.open(o,"_blank"),t.stopPropagation()},goCancel:function(){this.addTokenVisible=!1},goAddToken:function(){this.addTokenForm.tokenAddress="",this.addTokenVisible=!0},txFormCheck:function(){var t={success:!1};return""===this.addTokenForm.tokenAddress?(t.msg=this.$t("addToken.form.inputToken"),t):null===r["a"].getAddress(this.addTokenForm.tokenAddress)?(t.msg=this.$t("addToken.form.addressError"),t):(t.success=!0,t.func=this.createPool,t)},createPool:function(){var t=this;this.$refs["txConfirm"]&&this.$refs["txConfirm"].init(),this.txForm={type:r["a"].getTxTypes().createPool,to:this.$store.state.factory.contract.address,token:this.addTokenForm.tokenAddress},this.txConfirmCall=function(){return k["a"].createPool(t.txForm.token)},this.txConfirmDialogVisible=!0}}},u=p,f=(o("79ba"),o("2877")),h=Object(f["a"])(u,i,n,!1,null,null,null);e["default"]=h.exports},"521b":function(t,e,o){},"79ba":function(t,e,o){"use strict";o("521b")}}]);
//# sourceMappingURL=chunk-0b956be4.68f3bbd0.js.map